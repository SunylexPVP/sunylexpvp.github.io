<!DOCTYPE html>
<html lang="en">
<head>
    <script>

// OPTIONS
    // Page
        title = "Sunylex";
        icon = "https://lh5.googleusercontent.com/SAPbBHsbzUAQJYl9KdvUYSotLaiG56OX-HAc3ampvd97vd1Bvl_7goHE6wDXOB_WZpRIusvddpGSg0wDCWOGxUVEkopsbfqz2E0R180DLDrnfwWCaHjMvysZebFhqBHOzA=w1280";
    // Style
        homeButtonColor = "#00ff6b";
        homeButtonColor2 = "#00ffe0";
        homeButtonColorHover = "#00ffe0";
        homeButtonColorHover2 = "#00ff6b";
        homeButtonBorderRadius = "10px";
        homeButtonBorderRadiusHover = "10px 90px";
    // Others
        copiedText = "Sunylex.minehut.gg";
        copiedIpMessage = "Copied the ip!";
    // Links
        homeLink = "index.html";
        aboutLink = "https://sunylexpvp.tebex.io/";
        newsLink = "index.html";
        logoLink = "index.html";
    // Server
        serverIp = "Sunylex.minehut.gg";
        serverPort = "25565";

    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Main.css">
    <title>Sunylex</title>
</head>
<ul class="MainNav">
    <nav>
        <img onclick="logoLinkFunction()" class="MainImageLogo" src="https://cdn.discordapp.com/attachments/984630666438279239/1012870950678700132/unknown.png" alt="Sunylex Logo">
            <button onclick="homeLinkFunction()" class="MainHome">Home</button>
            <button onclick="aboutLinkFunction()" class="MainHome">Store</button>
            <button onclick="newsLinkFunction()" class="MainHome">News</button>
    </nav>
</ul>
<body class="Body">
    <h1 class="Part1">
        <div>
            <img class="MainImage" src="https://cdn.discordapp.com/attachments/984630666438279239/1012762996038184970/back.png" alt="Main Image">
            <div class="MainText">Sunylex</div>
            <body>
                <div>
                    <div class="playerCount">
                        <div><span id="player-count"></span> Players Online</div>
                    </div>
                </div>
            </body>    
        </div>
    </h1>
    <h2 class="Part2">
        <div class="Part2Text" id="copiedAlert">
            <p>Welcome to the official Sunylex website.</p>
            <p>Here you will find all what is about the server.</p>
            <p class="howJoin">How to join?</p>
            <p>To join Sunylex you will need to have the ip.</p>
            <p>To get the ip it is really simple just click</p>
            <p>the following button.</p>
            <button onclick="copyIp()">Copy Ip</button>
            <div>
                <div class="imageParents">
                    <div class="noteParentStyle">
                        <p class="noteParentText">Note to parents</p>
                        <p class="noteParentText2">Your kid plays Sunylex, a server based on the game Minecraft.</p>
                    </div>
                </div>
            </div>
        </div>
    </h2>
    <script>
        document.title = (title);
        let styleOptions = document.querySelector(':root');
        styleOptions.style.setProperty('--HomeButtonColor', homeButtonColor)
        styleOptions.style.setProperty('--HomeButtonColor2', homeButtonColor2)
        styleOptions.style.setProperty('--HomeButtonColorHover', homeButtonColorHover)
        styleOptions.style.setProperty('--HomeButtonColorHover2', homeButtonColorHover2)
        styleOptions.style.setProperty('--HomeButtonBorderRadius', homeButtonBorderRadius)
        styleOptions.style.setProperty('--HomeButtonBorderRadiusHover', homeButtonBorderRadiusHover)
        function copyIp(){
            navigator.clipboard.writeText(copiedText);
            alert(copiedIpMessage);
        }
        function homeLinkFunction(){
            window.open(homeLink,"_self")
        }
        function aboutLinkFunction(){
            window.open(aboutLink)
        }
        function newsLinkFunction(){
            window.open(newsLink,"_self")
        }
        function logoLinkFunction(){
            window.open(logoLink,"_self")
        }
        function initServerData(serverIp,serverPort){
            fetch('https://mcapi.us/server/status?ip='+serverIp+'&port='+serverPort)
            .then(response => response.json())
            .then(data => handleServerStatus(data));
  
        function handleServerStatus(data){
            if(data.status=='error'){
                console.log(data.error);
                return false;
            }
            const playerCounter = document.getElementById("player-count");
            playerCounter.innerHTML = data.players.now;
            } 
        }
        initServerData(serverIp, serverPort);
        let link = document.querySelector("link[rel*='icon']") || document.createElement('link');
            link.type = 'image/x-icon';
            link.rel = 'shortcut icon';
            link.href = (icon);
            document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</body>
</html>
